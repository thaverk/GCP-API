@using Syncfusion.EJ2
@using Syncfusion.EJ2.Notifications

<div class="col-lg-12 control-section toast-default-section">
    <div class="control_wrapper">
        @Html.EJS().Toast("toast_default").Title("Notification").Position(p => p.X("Right")).TimeOut(5000).ContentTemplate(@<div></div>).Created("created").Icon("fas fa-info-circle").BeforeOpen("onBeforeOpen").Close("onclose").Render()
        @Html.EJS().Toast("toast_success").Title("Success").Position(p => p.X("Right")).TimeOut(5000).ContentTemplate(@<div></div>).Created("created").CssClass("e-toast-success").Icon("fas fa-check-circle").BeforeOpen("onBeforeOpen").Close("onclose").Render()
        @Html.EJS().Toast("toast_error").Title("Error").Position(p => p.X("Right")).TimeOut(5000).ContentTemplate(@<div></div>).Created("created").CssClass("e-toast-danger").Icon("fas fa-times-circle").BeforeOpen("onBeforeOpen").Close("onclose").Render()
        @Html.EJS().Toast("toast_warning").Title("Warning").Position(p => p.X("Right")).TimeOut(5000).ContentTemplate(@<div></div>).Created("created").CssClass("e-toast-warning").Icon("fas fa-exclamation-triangle").BeforeOpen("onBeforeOpen").Close("onclose").Render()
    </div>
</div>

<script type="text/javascript">
    var toastObj;
    function created() {
        toastObj = this;
    }
    function onclose(e) {
        if (e.toastContainer.childElementCount === 0) {
            // Hide the toast if no more toasts are present
        }
    }
    function onBeforeOpen() {
        // Any additional logic before opening the toast
    }

    $(document).ready(function () {
        var alertMessage = '@TempData["Alert"]';
        console.log("Alert Message:", alertMessage); // Debugging log
        if (alertMessage) {
            var toastType = 'toast_default';

            if (alertMessage.includes('successfully')) {
                toastType = 'toast_success';
            } else if (alertMessage.includes('Try Again')) {
                toastType = 'toast_error';
            } else if (alertMessage.includes('Warning')) {
                toastType = 'toast_warning';
            }

            var toastInstance = document.getElementById(toastType).ej2_instances[0];
            toastInstance.content = alertMessage;
            toastInstance.show();
        }
    });
</script>
<style>
    .e-toast .e-toast-icon {
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        font-size: 17px;
        color: white;
    }

    .e-toast-success .e-toast-icon::before {
        content: "\f058";
    }

    .e-toast-danger .e-toast-icon::before {
        content: "\f057";
    }

    .e-toast-warning .e-toast-icon::before {
        content: "\f071";
    }

    .e-toast-info .e-toast-icon::before {
        content: "\f05a";
    }
</style>
